@let invalid = control.isInvalid && (control.isTouched || control.isSubmitted);

<div class="flex flex-col gap-y-3">
  <label [for]="id" class="block text-sm font-semibold text-gray-900"
    >What is your weight?
    @if (isOptional) {
      <span class="font-normal">(optional)</span>
    }
  </label>
  <div class="flex gap-x-2">
    <div class="relative w-1/5">
      <input
        class="rounded-s-gray-100 rounded-s-2 z-20 block w-full rounded-s-lg rounded-e-lg border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-gray-400 focus:ring-gray-400"
        [id]="id"
        [ngClass]="{ 'border-red-500 bg-red-50 focus:border-red-600 focus:ring-red-600': invalid }"
        [ngrxFormControlState]="control"
        type="text"
      />
      <span
        class="rounded-e-gray-100 absolute end-0 top-0 h-full rounded-e-lg p-2.5 text-sm font-medium text-gray-500"
      >
        lbs.
      </span>
    </div>
  </div>

  @if (invalid) {
    <validation-errors [control]="control" digits="Please enter your weight using only numbers" />
  }
</div>
